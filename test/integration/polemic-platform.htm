<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html dir="ltr" xml:lang="fr" xmlns="http://www.w3.org/1999/xhtml" lang="fr">

<head>
<title>Metadataplayer - Polemic tweet integration test</title>
</head>

<body>

  <div style="width:650px;font-family: 'Trebuchet MS', 'Helvetica', 'Arial',  'Verdana', 'sans-serif';">
  <h1>MetaDataPlayer</h1>
  Integration test - Using an ldtplatform located at http://localhost/pf/
  </div>
  
  
 <!-- START Integration  ###################################### -->
 <!-- SIMPLE PLAYER EXPERIMENTATION -->
  <script type="text/javascript" src="../../build/LdtPlayer-release.js" type="text/javascript"></script>   
  
  <div id="video"></div>
  <div id="LdtPlayer"></div>
  
  <script  type="text/javascript">
    var project_id = "af3b99e4-b695-11df-bfde-00145ea4a2be";
    var config = {            
        gui:{
            width:650,
            height:2100,              
            container:'LdtPlayer',
            css:'../../src/css/LdtPlayer.css',
            widgets: [
            {type: "SliderWidget",
						 metadata:{
						  format:'cinelab',
						  src:'http://localhost//pf/ldtplatform/ldt/cljson/id/' + project_id,
						  type:'json'}
						},            
            
            {type: "AnnotationsListWidget",
             container: "AnnotationsListContainer",             
						 metadata:{
						  format:'cinelab',
						  src:'http://localhost//pf/ldtplatform/ldt/cljson/id/' + project_id,
						  type:'json'}
						},
            {type: "PlayerWidget", // please note that type refers directly to the constructor of the widget.
             mode: "radio",
             metadata:{
              format:'cinelab',
              src:'http://localhost//pf/ldtplatform/ldt/cljson/id/' + project_id,
              type:'json'}
            },
            {type: "SegmentsWidget",
             metadata:{
              format:'cinelab',
              src:'http://localhost//pf/ldtplatform/ldt/cljson/id/' + project_id,
              type:'json'},
             requires: [{
              type: "TooltipWidget",
              width: 180,
              heigh: 160,
              metadata : {
                type:'empty'
              }
             }],
            },            
            {type: "SliceWidget",
             metadata:{
              format:'cinelab',
              src:'http://localhost//pf/ldtplatform/ldt/cljson/id/' + project_id,
              type:'json'}
            },            
            {type: "ArrowWidget",
             metadata:{
              format:'cinelab',
              src:'http://localhost//pf/ldtplatform/ldt/cljson/id/' + project_id,
              type:'json'}
            },


            {type: "AnnotationsWidget",
						 metadata:{
						  format:'cinelab',
						  src:'http://localhost//pf/ldtplatform/ldt/cljson/id/' + project_id,
						  type:'json'}
						},
            {type: "TweetsWidget",
						 metadata:{
						  format:'cinelab',
						  src:'http://localhost//pf/ldtplatform/ldt/cljson/id/' + project_id,
						  type:'json'}
						},
            {type: "createAnnotationWidget",
						 metadata:{
						  format:'cinelab',
						  src:'http://localhost//pf/ldtplatform/ldt/cljson/id/' + project_id,
						  type:'json'}
						}      
            ]
        },
      player:{
      type:'jwplayer', // player type
              live: true, 
              height: 300, 
              width: 640, 
              provider: "rtmp" 
      },
      modules: [
               { type: "MediaFragment",
  			     		 metadata:{
	  	  			   format:'cinelab',
		  				   src:'http://localhost//pf/ldtplatform/ldt/cljson/id/' + project_id,
						     type:'json'}
						}]

    };
    
    IriSP.loadLibs(IriSP.lib, config, "http://localhost//pf/ldtplatform/ldt/cljson/id/af3b99e4-b695-11df-bfde-00145ea4a2be",
      function() {   
              var layoutManager = new IriSP.LayoutManager(config.gui.container);
              var pop = IriSP.configurePopcorn(layoutManager, config.player);
              
              var widgets = IriSP.configureWidgets(pop, layoutManager, config.gui); 
              var modules = IriSP.configureModules(pop, config.modules); 
      });
  </script>
  
  
 </body>
 <div id="AnnotationsListContainer" style="position: absolute; width: 400px; left: 660px; top: 105px;"></div>
 </html>
