<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html dir="ltr" xml:lang="fr" xmlns="http://www.w3.org/1999/xhtml" lang="fr">

<head>
<title>Metadataplayer - Polemic tweet integration test</title>
</head>

<body>

  <div style="width:650px;font-family: 'Trebuchet MS', 'Helvetica', 'Arial',  'Verdana', 'sans-serif';">
  <h1>MetaDataPlayer</h1>
  Integration test - ALLOCINE PLAYER
  </div>
  
  
 <!-- START Integration  ###################################### -->
 <!-- SIMPLE PLAYER EXPERIMENTATION -->
  <script type="text/javascript" src="js/LdtPlayer-release.js" type="text/javascript"></script>   
  
  <div id="video"></div>
  <div id="LdtPlayer"></div>
  <div id="Sparkline"></div>
  <script  type="text/javascript">
    var json_url = 'allocine_test/exemple.json';
    
    IriSP.user = {name: 'awesome_user_name', avatar: 'allocine_test/avatar.png',};
    IriSP.libdir = "js/libs/";
    IriSP.widgetsDefaults["createAnnotationWidget"] = {};
    IriSP.widgetsDefaults["createAnnotationWidget"].cinecast_version = true;
    IriSP.widgetsDefaults["createAnnotationWidget"].keywords = ["#allocine", "#vodkaster", "#universcine"];
    IriSP.widgetsDefaults["createAnnotationWidget"].api_endpoint_template = "coucou/{{id}}.json";
    IriSP.defaults.user = function(){ return IriSP.user; };
    
    var config = {            
        gui:{
            width:650,
            height:2100,              
            container:'LdtPlayer',
            css:'css/LdtPlayer.css',
            widgets: [
            {type: "StackGraphWidget",
                tags : [
                    {
                        "keywords" : [ "élève", "souleyman", "souleiman", "koumba", "kumba", "karl", "esmeralda" ],
                        "description" : "Mentions des élèves",
                        "color" : "#CE0A15",
                    },
                    {
                        "keywords" : [ "F.M", "françois" ],
                        "description" : "Mentions de François",
                        "color" : "#036AAE",
                    },
                    {
                        "keywords" : [ "plan", "pano", "caméra", "plongée" ],
                        "description" : "Descriptions de plans",
                        "color" : "#C5A62D",   
                    },
                ],
               metadata:{
                format:'cinelab',
                src: json_url,
                type:'json'},
                
               requires: [{
                type: "TooltipWidget",
                width: 180,
                heigh: 160,
                metadata : {type:'empty'
                }
               }],
            },            
            {type: "AnnotationsListWidget",
             container: "AnnotationsListContainer",             
                         metadata:{
                          format:'cinelab',
                          src:json_url,
                          type:'json'}
                        },
            {type: "SparklineWidget",
             width: 640, /* required for this widget */
             height: 50,            
                         metadata:{
                          format:'cinelab',
                          src:json_url,
                          type:'json'}
                        },
            {type: "SliderWidget",
                         metadata:{
                          format:'cinelab',
                          src:json_url,
                          type:'json'}
                        },        
            {type: "PlayerWidget", // please note that type refers directly to the constructor of the widget.
             mode: "radio",
             metadata:{
              format:'cinelab',
              src:json_url,
              type:'json'}
            },
            {type: "SegmentsWidget",
             metadata:{
              format:'cinelab',
              src:json_url,
              type:'json'},
             requires: [{
              type: "TooltipWidget",
              width: 180,
              heigh: 160,
              metadata : {
                type:'empty'
              }
             }],
            },                     
            {type: "ArrowWidget",
             metadata:{
              format:'cinelab',
              src:json_url,
              type:'json'}
            },
            {type: "TweetsWidget",
                         metadata:{
                          format:'cinelab',
                          src:json_url,
                          type:'json'}
                        },
            {type: "createAnnotationWidget",
                         metadata:{
                          format:'cinelab',
                          src:json_url,
                          type:'json'}
                        }      
            ]
        },
      player:{
      type:'allocine', // player type 
              height: 300, 
              width: 640,
              acPlayerUrl: "allocine_test/AcPlayer_v3.0.swf",
              autoPlay: "true",
              urlAcData: "allocine_test/data_cinecast.xml",
              directVideoPath: "http://hd.fr.mediaplayer.allocine.fr/nmedia/18/86/23/92/19282986_fa3_vost_sd_001.flv"
      },
      modules: [
               { type: "MediaFragment",
                         metadata:{
                       format:'cinelab',
                           src:json_url,
                             type:'json'}
                        }]

    };
    
    
    IriSP.initPlayer(config, json_url);

  </script>
  
  
 </body>
 <div id="AnnotationsListContainer" style="position: absolute; width: 400px; left: 660px; top: 105px;"></div>
 </html>
